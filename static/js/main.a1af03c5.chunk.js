(this["webpackJsonpstateful-options-selector"]=this["webpackJsonpstateful-options-selector"]||[]).push([[0],{26:function(e,t,n){e.exports=n(63)},31:function(e,t,n){},32:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(3),i=n.n(r),l=(n(31),n(32),n(33),n(16)),s=n.n(l),u=n(5),c=n(6),p=n(10),d=n(9),h=n(8),v=n(11),f=n(24),g=n(1),m=n.n(g),b=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"flex-container"},this.props.option.icon&&o.a.createElement("div",{className:"menuitem-icon"},o.a.createElement("img",{src:this.props.option.icon,alt:"#",width:"16",height:"16"})),o.a.createElement("div",{className:"menuitem-label"},this.props.option.render?this.props.option.render():this.props.option.label))}}]),t}(a.Component),y=n(25),O=n.n(y);function S(e){e.preventDefault(),e.stopPropagation()}function E(e){return O.a.camelCase("".concat(e.state.value))}var k=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(v.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){S(e),this.props.handleOptionStateChange(this.props.option)}},{key:"render",value:function(){var e="selected"===this.props.option.state.value;return o.a.createElement("div",{disabled:e,className:["item",e?"stateless":"stateful","selected"].join(" "),onMouseDown:S,onClick:this.handleChange,title:this.props.option.state.label},o.a.createElement(b,{option:this.props.option}))}}]),t}(a.Component);var C={"full-text-search":function(e,t){return e.toLowerCase().indexOf(t.toLowerCase())>-1},none:function(e,t){return!0}},N=function(){function e(t){Object(u.a)(this,e),this.states=t?t.map((function(e){return{value:e.value,label:e.label?e.label:e.value}})):[{value:"selected",label:"selected"}],this.state2index=this.states.reduce((function(e,t,n){return e[t.value]=n,e}),{})}return Object(c.a)(e,[{key:"first",value:function(){return this.states[0]}},{key:"next",value:function(e){if(!m.a.has(this.state2index,e.value))throw new RangeError("Unknown state: "+e.value);var t=(this.state2index[e.value]+1)%this.states.length;return this.states[t]}},{key:"state",value:function(e){if(!m.a.has(this.state2index,e))throw new RangeError("Unknown state: "+e);return this.states[this.state2index[e]]}},{key:"values",value:function(){return this.states.reduce((function(e,t){return e.push(t.value),e}),[])}}]),e}();function j(e){return{value:"...",label:"...",groupId:e,selectable:!1}}function I(e){return"..."===e.value}var R=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleOptionStateChange=n.handleOptionStateChange.bind(Object(h.a)(n)),n.state={selectedOptions:[]},n.init(e),n}return Object(v.a)(t,e),Object(c.a)(t,[{key:"init",value:function(e){var t=this,n=e.groups?e.groups:[];this.optionStates=new N(e.states),n=n.map((function(e){if(e.count){var t=m.a.clone(e);return t.options=m.a.clone(e.options),t.options.push(j(e.id)),t}return e})),this.groups=n.map((function(e){return{groupId:e.id,title:e.title}})),this.options=[].concat.apply([],n.map((function(e){return e.options.map((function(n){return{groupId:e.id,render:n.render,label:n.label?n.label:n.value,value:n.value,icon:n.icon,selectable:n.selectable,state:t.optionStates.first()}}))}))),this.groupId2Style=n.reduce((function(e,t){return e[t.id]=t.style?t.style:"source",e}),{}),this.groupId2Filter=n.reduce((function(e,t){return e[t.id]=t.filter&&C[t.filter]?C[t.filter]:C["full-text-search"],e}),{}),this.groupId2Count=n.reduce((function(e,t){return t.count&&(e[t.id]=t.count),e}),{})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.init(e),this.setState({selectedOptions:this.value2options(e.value)})}},{key:"componentDidMount",value:function(){var e=this;this.setState({selectedOptions:this.value2options(this.props.value)},(function(){e.propagateValue()}))}},{key:"value2options",value:function(e){var t=this;if(!e)return[];var n=[],a={},o=function(o){for(var r in e.value[o]){var i=!0,l=!1,s=void 0;try{for(var u,c=function(){var e=u.value,i=t.options.find((function(t){return t.value===e&&t.groupId===o}));(i=m.a.clone(i)).state=t.optionStates.state(r),a[i.value]=i,n.push(i)},p=e.value[o][r][Symbol.iterator]();!(i=(u=p.next()).done);i=!0)c()}catch(d){l=!0,s=d}finally{try{i||null==p.return||p.return()}finally{if(l)throw s}}}};for(var r in e.value)o(r);return e.order&&e.order.length?e.order.map((function(e){return a[e]})):n}},{key:"handleOptionStateChange",value:function(e){var t=this,n=this;this.multiSelectInstance.blur(),this.setState((function(t,a){return{selectedOptions:t.selectedOptions.map((function(t){return t.value===e.value&&(t.state=n.optionStates.next(e.state)),t}))}}),(function(){t.propagateValue()}))}},{key:"propagateValue",value:function(){this.props.handleChange&&this.props.handleChange(this.result())}},{key:"result",value:function(){return this.state.selectedOptions.reduce((function(e,t){return e.value[t.groupId][t.state.value].push(t.value),e.order.push(t.value),e}),this.emptyValue())}},{key:"emptyValue",value:function(){var e=this;return this.groups.reduce((function(t,n){return t.value[n.groupId]=e.emptyStateValue(),t}),{value:{},order:[]})}},{key:"emptyStateValue",value:function(){return this.optionStates.values().reduce((function(e,t){return e[t]=[],e}),{})}},{key:"render",value:function(){var e=this,t=this;return o.a.createElement(f.MultiSelect,Object.assign({ref:function(t){e.multiSelectInstance=t},className:"multiselect",groups:this.groups,options:this.options,values:this.state.selectedOptions,onValuesChange:function(e){t.setState({selectedOptions:e},(function(){t.propagateValue()}))},closeOnSelect:!1,filterOptions:function(e,n,a){return function(e,t){if(t&&!m.a.isEmpty(t)){var n=m.a.groupBy(e,"groupId");m.a.each(n,(function(e,a){var o=t[a];o&&n[a].length>o&&(n[a]=m.a.chain(n[a]).slice(0,o).push(j(a)).value())})),e=m.a.flatten(m.a.values(n))}return e}(m.a.chain(e).reject((function(e){return t.state.selectedOptions.map((function(e){return e.value})).indexOf(e.value)>-1||I(e)})).filter((function(e){return t.groupId2Filter[e.groupId](e.label,a)})).value(),t.groupId2Count)},renderOption:function(e){var n=I(e)?"limit-sign":"selectable",a=t.groupId2Style[e.groupId];return o.a.createElement("div",{className:"menu-option"},o.a.createElement("div",{className:[n,a].join(" ")},o.a.createElement(b,{option:e})))},renderValue:function(e){var n=t.groupId2Style[e.groupId];return o.a.createElement("div",{className:"selected-option"},o.a.createElement("div",{className:[n,E(e),"flex-container"].join(" ")},o.a.createElement(k,{option:e,handleOptionStateChange:t.handleOptionStateChange}),o.a.createElement("div",{className:"x",onClick:function(n){t.multiSelectInstance.blur(),t.setState((function(n,a){return{selectedOptions:m.a.reject(t.state.selectedOptions,(function(t){return e.value===t.value}))}}),(function(){t.propagateValue()}))},onMouseDown:S})))},placeholder:this.props.placeholder||""===this.props.placeholder?this.props.placeholder:"Select options",renderNoResultsFound:function(){return o.a.createElement("div",{className:"no-results-found"},t.props.noResultsFound?t.props.noResultsFound:"No results found")},onKeyboardSelectionFailed:function(e){e.preventDefault&&e.stopPropagation?S(e):console.log("IMPORTANT: to prevent TIME combo changes,\nmodify react-selectize/src/ReactSelectize.js: onKeyboardSelectionFailed(e.which); -> onKeyboardSelectionFailed(e);")}},this.optionalProps()))}},{key:"optionalProps",value:function(){var e={};return this.props.open&&(e.open=this.props.open),this.props.hideResetButton&&(e.hideResetButton=this.props.hideResetButton),this.props.renderResetButton&&(e.renderResetButton=this.props.renderResetButton),this.props.renderToggleButton&&(e.renderToggleButton=this.props.renderToggleButton),e}}]),t}(a.Component),x=[{value:"or",label:"OR"},{value:"and",label:"AND"},{value:"not",label:"NOT"}],w=[{id:"sources",title:"SOURCES",count:3,options:[{render:function(){return o.a.createElement("div",{className:"custom-label"},"AERONET")},value:"Aeronet.cz"},{label:"Parlamentni Listy",value:"ParlamentniListy.cz"},{value:"Novinky.cz"},{render:function(){return o.a.createElement("div",{className:"custom-label"},"BLESK ***")},label:"blesk *** xxx",value:"Blesk.cz"},{value:"Lidovky.cz"},{value:"Ihned.cz"}]},{id:"tags",title:"TAGS",style:"source",filter:"none",options:[{render:function(){return o.a.createElement("div",{className:"custom-label"},"CzechNews")},value:"CzechNews",icon:"img/blue.png"},{value:"Troll",icon:"img/red.png"},{value:"Propaganda",icon:"img/green.png"}]}];i.a.render(o.a.createElement(R,{groups:w,states:x,handleChange:function(e){s()("#value1").html(JSON.stringify(e,void 0,4))},placeholder:""}),document.getElementById("root1"));var B=[{id:"tags",style:"tag",options:[{render:function(){return o.a.createElement("div",{className:"custom-label"},"RED")},label:"Red",value:"red",icon:"img/red.png"},{label:"Green",value:"green",icon:"img/green.png"},{label:"Blue",value:"blue",icon:"img/blue.png"}]}];i.a.render(o.a.createElement(R,{groups:B,states:x,handleChange:function(e){s()("#value2").html(JSON.stringify(e,void 0,4))},value:{value:{tags:{and:["red"],not:["blue"]}},order:["blue","red"]},placeholder:"Select color tags",noResultsFound:"NO RESULTS!",open:!0}),document.getElementById("root2"))}},[[26,1,2]]]);
//# sourceMappingURL=main.a1af03c5.chunk.js.map